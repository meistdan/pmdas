# Lightweight Multidimensional Adaptive Sampling for GPU Ray Tracing
Sources codes of the <a href="https://jcgt.org/published/XXXX/XX/XX">Lightweight Multidimensional Adaptive Sampling for GPU Ray Tracing</a> project. 
We extended Optix samples to support the proposed parallel multidimensional sampling and reconstruction.

## Usage
There is a sample material (SnowyGround) generated by the Substance Designer in data/original/SnowyGround.
There are scripts in the bin folder that you can use to run the synthesis:
```
bin/enlargement.sh # synthesizes larger material without guiding channel
bin/guided.sh # synthesizes material according a given target image (dafault is data/cag.png)
```
Regarding the guided synthesis, you can enable/disable 'correction' via the macro 'CORRECTION' in main.cpp. If it is enabled it adjust the resulting material to match the target material (see paper for the details).
In data/matlab, you can find MATLAB scripts that we used to preprocess and fit the data into polynomials.

## Data
We added one sample to the repository. We used data from <a href="https://www.cs.columbia.edu/CAVE/databases/staf/staf.php">the STAF database</a> and also synthetic data generated by Substance Designer. We may provide the whole dataset on demand.

## License
The additional code is released into the public domain. 

## Citation
If you use this code, please cite <a href="https://jcgt.org/published/XXXX/XX/XX">the paper</a>:
```
@Article{Meister2022,
  author = {Daniel Meister and Toshiya Hachisuka},
  title = {{Lightweight Multidimensional Adaptive Sampling for GPU Ray Tracing}},
  journal = {Journal of Computer Graphics Techniques},
  volume = {XX},
  pages = {XXX-XXX},
  year = {2022},
}
```
